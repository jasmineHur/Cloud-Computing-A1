FROM node:14-alpine
# Key set
ENV AWS_ACCESS_KEY_ID XXID
ENV AWS_SECRET_ACCESS_KEY XXSECRET
ENV AWS_SESSION_TOKEN XXTOKEN
ENV SEATGEEK_API_KEY YYKEY1
ENV SEATGEEK_SECRET_API_KEY YYKEY2
ENV OPENWEATHER_API_KEY YYKEY3

COPY . /src
# create work directory
WORKDIR /src

RUN npm install
RUN npm run build

EXPOSE 3000

CMD ["node", "server.js"]